<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoMarket - Supermercados Sustent√°veis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .hover-scale:hover { transform: scale(1.02); transition: transform 0.2s; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app" class="min-h-screen">
        <!-- Navigation -->
        <nav class="bg-white shadow-lg sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <span class="text-green-600 text-2xl mr-2">üå±</span>
                        <span class="text-xl font-bold text-gray-900">EcoMarket</span>
                    </div>
                    <div class="flex space-x-4">
                        <button onclick="showStaffLogin()" class="px-4 py-2 border border-green-600 text-green-600 rounded-md hover:bg-green-50 transition">
                            Staff
                        </button>
                        <button onclick="showCustomerLogin()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition">
                            Cliente
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="py-20 bg-gradient-to-br from-green-50 to-blue-50">
            <div class="max-w-7xl mx-auto px-4 text-center fade-in">
                <h1 class="text-5xl md:text-6xl font-bold text-gray-900 mb-6">
                    Supermercados <span class="text-green-600">Sustent√°veis</span>
                </h1>
                <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                    Revolucionando a experi√™ncia de compras no Brasil com foco em sustentabilidade,
                    redu√ß√£o de desperd√≠cio e pontos ecol√≥gicos.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="startShopping()" class="bg-green-600 text-white px-8 py-4 rounded-lg font-medium hover:bg-green-700 transition hover-scale">
                        üõí Come√ßar a Comprar
                    </button>
                    <button onclick="registerSupermarket()" class="border border-gray-300 text-gray-700 px-8 py-4 rounded-lg font-medium hover:bg-gray-50 transition hover-scale">
                        üìù Cadastrar Supermercado
                    </button>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-12">
                    Por que escolher o EcoMarket?
                </h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center bg-green-50 border border-green-200 rounded-lg p-6 hover-scale">
                        <div class="text-green-600 text-5xl mb-4">üå±</div>
                        <h3 class="text-xl font-bold mb-4 text-green-800">Sustentabilidade</h3>
                        <p class="text-gray-700">
                            Ganhe pontos ecol√≥gicos comprando produtos pr√≥ximos ao vencimento
                            e ajude a reduzir o desperd√≠cio de alimentos.
                        </p>
                    </div>

                    <div class="text-center bg-blue-50 border border-blue-200 rounded-lg p-6 hover-scale">
                        <div class="text-blue-600 text-5xl mb-4">üõí</div>
                        <h3 class="text-xl font-bold mb-4 text-blue-800">Compras Inteligentes</h3>
                        <p class="text-gray-700">
                            Encontre supermercados pr√≥ximos, compare pre√ßos e fa√ßa pedidos
                            com entrega ou retirada no local.
                        </p>
                    </div>

                    <div class="text-center bg-yellow-50 border border-yellow-200 rounded-lg p-6 hover-scale">
                        <div class="text-yellow-600 text-5xl mb-4">‚≠ê</div>
                        <h3 class="text-xl font-bold mb-4 text-yellow-800">Experi√™ncia Premium</h3>
                        <p class="text-gray-700">
                            Interface m√≥vel otimizada, pagamentos PIX seguros e
                            notifica√ß√µes push em tempo real.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="py-16 bg-green-600 text-white">
            <div class="max-w-7xl mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8 text-center">
                    <div>
                        <div class="text-4xl font-bold mb-2">500+</div>
                        <div class="text-green-100">Produtos Dispon√≠veis</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold mb-2">50+</div>
                        <div class="text-green-100">Supermercados Parceiros</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold mb-2">1000+</div>
                        <div class="text-green-100">Clientes Ativos</div>
                    </div>
                    <div>
                        <div class="text-4xl font-bold mb-2">30%</div>
                        <div class="text-green-100">Redu√ß√£o de Desperd√≠cio</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Demo Products Section -->
        <section class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-12">
                    Produtos em Oferta
                </h2>
                <div id="products-grid" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Products will be loaded here -->
                </div>
                <div class="text-center mt-8">
                    <button onclick="loadProducts()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition">
                        Ver Mais Produtos
                    </button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-12">
            <div class="max-w-7xl mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8">
                    <div>
                        <div class="flex items-center mb-4">
                            <span class="text-green-400 text-xl mr-2">üå±</span>
                            <span class="text-xl font-bold">EcoMarket</span>
                        </div>
                        <p class="text-gray-400">
                            Revolucionando supermercados sustent√°veis no Brasil.
                        </p>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Para Clientes</h4>
                        <ul class="space-y-2 text-gray-400">
                            <li><a href="#" class="hover:text-white">Como Funciona</a></li>
                            <li><a href="#" class="hover:text-white">Pontos Ecol√≥gicos</a></li>
                            <li><a href="#" class="hover:text-white">Supermercados</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Para Empresas</h4>
                        <ul class="space-y-2 text-gray-400">
                            <li><a href="#" class="hover:text-white">Cadastrar Loja</a></li>
                            <li><a href="#" class="hover:text-white">Painel Admin</a></li>
                            <li><a href="#" class="hover:text-white">API</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Suporte</h4>
                        <ul class="space-y-2 text-gray-400">
                            <li><a href="#" class="hover:text-white">Central de Ajuda</a></li>
                            <li><a href="#" class="hover:text-white">Contato</a></li>
                            <li><a href="#" class="hover:text-white">Pol√≠tica de Privacidade</a></li>
                        </ul>
                    </div>
                </div>
                <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                    <p>&copy; 2025 EcoMarket. Todos os direitos reservados.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Application State
        let currentUser = null;
        let cart = [];
        let products = [];

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('EcoMarket aplica√ß√£o carregada com sucesso');
            loadProducts();
        });

        // Navigation functions
        function showStaffLogin() {
            alert('Staff Login - Em desenvolvimento\nPara demonstra√ß√£o, use as funcionalidades de cliente.');
        }

        function showCustomerLogin() {
            alert('Login de Cliente - Em desenvolvimento\nVoc√™ pode navegar pelos produtos como visitante.');
        }

        function startShopping() {
            document.getElementById('products-grid').scrollIntoView({ behavior: 'smooth' });
        }

        function registerSupermarket() {
            alert('Cadastro de Supermercado - Em desenvolvimento\nEntre em contato conosco para mais informa√ß√µes.');
        }

        // Load products from API
        async function loadProducts() {
            try {
                const response = await fetch('/api/products');
                const data = await response.json();
                
                if (data.success) {
                    products = data.data;
                    displayProducts(products);
                }
            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
                displayMockProducts();
            }
        }

        // Display products in grid
        function displayProducts(productList) {
            const grid = document.getElementById('products-grid');
            
            grid.innerHTML = productList.map(product => `
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover-scale">
                    <div class="h-48 bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center">
                        <span class="text-4xl">${getCategoryIcon(product.category)}</span>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-2">${product.name}</h3>
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-gray-500 line-through">${product.originalPrice}</span>
                            <span class="text-green-600 font-bold text-xl">${product.discountPrice}</span>
                        </div>
                        <div class="text-sm text-gray-600 mb-2">
                            Vence: ${formatDate(product.expirationDate)}
                        </div>
                        <div class="flex items-center justify-between mb-3">
                            <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">
                                ${product.discount}% OFF
                            </span>
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">
                                +${product.ecoPoints} pontos
                            </span>
                        </div>
                        <button onclick="addToCart(${product.id})" 
                                class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">
                            Adicionar ao Carrinho
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Mock products fallback
        function displayMockProducts() {
            const mockProducts = [
                {
                    id: 1,
                    name: "Banana Org√¢nica",
                    originalPrice: "R$ 8,99",
                    discountPrice: "R$ 5,99",
                    category: "Frutas",
                    expirationDate: "2025-06-05",
                    discount: 33,
                    ecoPoints: 15
                },
                {
                    id: 2,
                    name: "P√£o Integral",
                    originalPrice: "R$ 6,50",
                    discountPrice: "R$ 4,00",
                    category: "Padaria",
                    expirationDate: "2025-06-04",
                    discount: 38,
                    ecoPoints: 20
                },
                {
                    id: 3,
                    name: "Leite Org√¢nico",
                    originalPrice: "R$ 7,80",
                    discountPrice: "R$ 5,50",
                    category: "Latic√≠nios",
                    expirationDate: "2025-06-06",
                    discount: 29,
                    ecoPoints: 12
                },
                {
                    id: 4,
                    name: "Tomate Cereja",
                    originalPrice: "R$ 12,90",
                    discountPrice: "R$ 8,90",
                    category: "Vegetais",
                    expirationDate: "2025-06-04",
                    discount: 31,
                    ecoPoints: 18
                }
            ];
            displayProducts(mockProducts);
        }

        // Utility functions
        function getCategoryIcon(category) {
            const icons = {
                'Frutas': 'üçå',
                'Padaria': 'üçû',
                'Latic√≠nios': 'ü•õ',
                'Vegetais': 'üçÖ',
                'Carnes': 'ü•©',
                'Bebidas': 'ü•§'
            };
            return icons[category] || 'üõí';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                cart.push(product);
                alert(`${product.name} adicionado ao carrinho!\nTotal de itens: ${cart.length}`);
            }
        }
    </script>
</body>
</html>