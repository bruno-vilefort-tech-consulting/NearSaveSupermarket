<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoMarket - Supermercados Sustent√°veis</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: white; padding: 15px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: bold; color: #16a34a; }
        .hero { background: linear-gradient(135deg, #f0fdf4, #dbeafe); padding: 80px 0; text-align: center; }
        .hero h1 { font-size: 48px; margin: 0 0 20px 0; color: #1f2937; }
        .hero .green { color: #16a34a; }
        .hero p { font-size: 18px; color: #6b7280; margin-bottom: 30px; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin: 10px; }
        .btn-primary { background: #16a34a; color: white; }
        .btn-secondary { background: white; color: #374151; border: 1px solid #d1d5db; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 40px 0; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .product { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .product-image { height: 150px; background: linear-gradient(135deg, #dcfce7, #bbf7d0); display: flex; align-items: center; justify-content: center; font-size: 48px; }
        .product-info { padding: 15px; }
        .price { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }
        .old-price { color: #9ca3af; text-decoration: line-through; }
        .new-price { color: #16a34a; font-weight: bold; font-size: 18px; }
        .footer { background: #1f2937; color: white; padding: 40px 0; margin-top: 40px; }
    </style>
</head>
<body>
    <div id="app">
        <!-- Navigation -->
        <div class="header">
            <div class="container">
                <div class="nav">
                    <div>
                        <span style="font-size: 24px; margin-right: 8px;">üå±</span>
                        <span class="logo">EcoMarket</span>
                    </div>
                    <div>
                        <button onclick="showStaffLogin()" class="btn btn-secondary">
                            Staff
                        </button>
                        <button onclick="showCustomerLogin()" class="btn btn-primary">
                            Cliente
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <div class="hero">
            <div class="container">
                <h1>
                    Supermercados <span class="green">Sustent√°veis</span>
                </h1>
                <p>
                    Revolucionando a experi√™ncia de compras no Brasil com foco em sustentabilidade,
                    redu√ß√£o de desperd√≠cio e pontos ecol√≥gicos.
                </p>
                <div>
                    <button onclick="startShopping()" class="btn btn-primary">
                        üõí Come√ßar a Comprar
                    </button>
                    <button onclick="registerSupermarket()" class="btn btn-secondary">
                        üìù Cadastrar Supermercado
                    </button>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div style="padding: 60px 0; background: white;">
            <div class="container">
                <h2 style="font-size: 32px; font-weight: bold; text-align: center; margin-bottom: 40px;">
                    Por que escolher o EcoMarket?
                </h2>
                <div class="grid">
                    <div class="card" style="text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üå±</div>
                        <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 16px; color: #16a34a;">Sustentabilidade</h3>
                        <p>
                            Ganhe pontos ecol√≥gicos comprando produtos pr√≥ximos ao vencimento
                            e ajude a reduzir o desperd√≠cio de alimentos.
                        </p>
                    </div>

                    <div class="card" style="text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üõí</div>
                        <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 16px; color: #2563eb;">Compras Inteligentes</h3>
                        <p>
                            Encontre supermercados pr√≥ximos, compare pre√ßos e fa√ßa pedidos
                            com entrega ou retirada no local.
                        </p>
                    </div>

                    <div class="card" style="text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 16px;">‚≠ê</div>
                        <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 16px; color: #d97706;">Experi√™ncia Premium</h3>
                        <p>
                            Interface m√≥vel otimizada, pagamentos PIX seguros e
                            notifica√ß√µes push em tempo real.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Section -->
        <div style="padding: 60px 0; background: #16a34a; color: white;">
            <div class="container">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; text-align: center;">
                    <div>
                        <div style="font-size: 36px; font-weight: bold; margin-bottom: 8px;">500+</div>
                        <div style="color: #bbf7d0;">Produtos Dispon√≠veis</div>
                    </div>
                    <div>
                        <div style="font-size: 36px; font-weight: bold; margin-bottom: 8px;">50+</div>
                        <div style="color: #bbf7d0;">Supermercados Parceiros</div>
                    </div>
                    <div>
                        <div style="font-size: 36px; font-weight: bold; margin-bottom: 8px;">1000+</div>
                        <div style="color: #bbf7d0;">Clientes Ativos</div>
                    </div>
                    <div>
                        <div style="font-size: 36px; font-weight: bold; margin-bottom: 8px;">30%</div>
                        <div style="color: #bbf7d0;">Redu√ß√£o de Desperd√≠cio</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Demo Products Section -->
        <div style="padding: 60px 0;">
            <div class="container">
                <h2 style="font-size: 32px; font-weight: bold; text-align: center; margin-bottom: 40px;">
                    Produtos em Oferta
                </h2>
                <div id="products-grid" class="product-grid">
                    <!-- Products will be loaded here -->
                </div>
                <div style="text-align: center; margin-top: 32px;">
                    <button onclick="loadProducts()" class="btn btn-primary">
                        Ver Mais Produtos
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="container">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 32px;">
                    <div>
                        <div style="display: flex; align-items: center; margin-bottom: 16px;">
                            <span style="color: #4ade80; font-size: 20px; margin-right: 8px;">üå±</span>
                            <span style="font-size: 20px; font-weight: bold;">EcoMarket</span>
                        </div>
                        <p style="color: #9ca3af;">
                            Revolucionando supermercados sustent√°veis no Brasil.
                        </p>
                    </div>
                    <div>
                        <h4 style="font-weight: bold; margin-bottom: 16px;">Para Clientes</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Como Funciona</a></li>
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Pontos Ecol√≥gicos</a></li>
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Supermercados</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="font-weight: bold; margin-bottom: 16px;">Para Empresas</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Cadastrar Loja</a></li>
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Painel Admin</a></li>
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">API</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="font-weight: bold; margin-bottom: 16px;">Suporte</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Central de Ajuda</a></li>
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Contato</a></li>
                            <li style="margin-bottom: 8px;"><a href="#" style="color: #9ca3af; text-decoration: none;">Pol√≠tica de Privacidade</a></li>
                        </ul>
                    </div>
                </div>
                <div style="border-top: 1px solid #374151; margin-top: 32px; padding-top: 32px; text-align: center; color: #9ca3af;">
                    <p>&copy; 2025 EcoMarket. Todos os direitos reservados.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Application State
        let currentUser = null;
        let cart = [];
        let products = [];

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('EcoMarket aplica√ß√£o carregada com sucesso');
            loadProducts();
        });

        // Navigation functions
        function showStaffLogin() {
            alert('Staff Login - Em desenvolvimento\nPara demonstra√ß√£o, use as funcionalidades de cliente.');
        }

        function showCustomerLogin() {
            alert('Login de Cliente - Em desenvolvimento\nVoc√™ pode navegar pelos produtos como visitante.');
        }

        function startShopping() {
            document.getElementById('products-grid').scrollIntoView({ behavior: 'smooth' });
        }

        function registerSupermarket() {
            alert('Cadastro de Supermercado - Em desenvolvimento\nEntre em contato conosco para mais informa√ß√µes.');
        }

        // Load products from API
        async function loadProducts() {
            try {
                const response = await fetch('/api/products');
                const data = await response.json();
                
                if (data.success) {
                    products = data.data;
                    displayProducts(products);
                }
            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
                displayMockProducts();
            }
        }

        // Display products in grid
        function displayProducts(productList) {
            const grid = document.getElementById('products-grid');
            
            grid.innerHTML = productList.map(product => `
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover-scale">
                    <div class="h-48 bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center">
                        <span class="text-4xl">${getCategoryIcon(product.category)}</span>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-2">${product.name}</h3>
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-gray-500 line-through">${product.originalPrice}</span>
                            <span class="text-green-600 font-bold text-xl">${product.discountPrice}</span>
                        </div>
                        <div class="text-sm text-gray-600 mb-2">
                            Vence: ${formatDate(product.expirationDate)}
                        </div>
                        <div class="flex items-center justify-between mb-3">
                            <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">
                                ${product.discount}% OFF
                            </span>
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">
                                +${product.ecoPoints} pontos
                            </span>
                        </div>
                        <button onclick="addToCart(${product.id})" 
                                class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">
                            Adicionar ao Carrinho
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Mock products fallback
        function displayMockProducts() {
            const mockProducts = [
                {
                    id: 1,
                    name: "Banana Org√¢nica",
                    originalPrice: "R$ 8,99",
                    discountPrice: "R$ 5,99",
                    category: "Frutas",
                    expirationDate: "2025-06-05",
                    discount: 33,
                    ecoPoints: 15
                },
                {
                    id: 2,
                    name: "P√£o Integral",
                    originalPrice: "R$ 6,50",
                    discountPrice: "R$ 4,00",
                    category: "Padaria",
                    expirationDate: "2025-06-04",
                    discount: 38,
                    ecoPoints: 20
                },
                {
                    id: 3,
                    name: "Leite Org√¢nico",
                    originalPrice: "R$ 7,80",
                    discountPrice: "R$ 5,50",
                    category: "Latic√≠nios",
                    expirationDate: "2025-06-06",
                    discount: 29,
                    ecoPoints: 12
                },
                {
                    id: 4,
                    name: "Tomate Cereja",
                    originalPrice: "R$ 12,90",
                    discountPrice: "R$ 8,90",
                    category: "Vegetais",
                    expirationDate: "2025-06-04",
                    discount: 31,
                    ecoPoints: 18
                }
            ];
            displayProducts(mockProducts);
        }

        // Utility functions
        function getCategoryIcon(category) {
            const icons = {
                'Frutas': 'üçå',
                'Padaria': 'üçû',
                'Latic√≠nios': 'ü•õ',
                'Vegetais': 'üçÖ',
                'Carnes': 'ü•©',
                'Bebidas': 'ü•§'
            };
            return icons[category] || 'üõí';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                cart.push(product);
                alert(`${product.name} adicionado ao carrinho!\nTotal de itens: ${cart.length}`);
            }
        }
    </script>
</body>
</html>